/* ============ Theme ============ */
:root{
  --ink:#0f172a;
  --muted:#6b7280;
  --line:#eef2f7;

  --bg:#f7f9fc;
  --card:#ffffff;

  --glow: 0 30px 80px rgba(2, 6, 23, .10);
  --ring: 0 0 0 6px rgba(59,130,246,.10);

  --grad-1: linear-gradient(180deg, #fff, #fbfdff);
  --border-grad: linear-gradient(135deg, #a5b4fc 0%, #60a5fa 35%, #34d399 70%, #f59e0b 100%);
}

/* ============ Premium background orbs ============ */
.premium-bg {
  position: relative;
  overflow: clip;
  background:
    radial-gradient(1000px 360px at 50% -120px, rgba(59,130,246,.10), transparent 70%),
    var(--bg);
  min-height: 100dvh;
}
.bg-orb{ position:absolute; filter: blur(40px); opacity:.45; pointer-events:none; }
.orb-1{ width:520px; height:520px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #60a5fa, transparent 60%); top:-140px; left:-120px;}
.orb-2{ width:600px; height:600px; border-radius:50%; background:radial-gradient(circle at 70% 30%, #f472b6, transparent 60%); top:-160px; right:-140px;}
.orb-3{ width:680px; height:680px; border-radius:50%; background:radial-gradient(circle at 50% 60%, #34d399, transparent 60%); bottom:-220px; left:10%; }

/* layout base */
.admin-wrap { padding: 22px; border-radius: 15px; }
.page-title {
  font-size: 30px; font-weight: 900; letter-spacing: .2px; color: var(--ink);
  margin: 6px 0 18px; position: relative;
}
.page-title::after{
  content:""; position:absolute; left:0; bottom:-8px; height:3px; width:72px; border-radius:999px;
  background: linear-gradient(90deg,#60a5fa,#34d399,#f59e0b);
  filter: drop-shadow(0 6px 12px rgba(100,116,139,.35));
}

/* grids */
.kpi-grid { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 16px; }
.grid-2 { display: grid; grid-template-columns: 1fr; gap: 16px; margin-top: 16px; }
.grid-3 { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; margin-top: 16px; }
.card-premiums{
  margin-top: 16px;
}
/* ============ Premium Card with gradient border ============ */
.card, .card-premium {
  position: relative;
  background: var(--grad-1);
  border-radius: 18px;
  padding: 16px;
  box-shadow: var(--glow);
  border: 1px solid #edf2fb;
  overflow: hidden;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.card-premium::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: inherit;
  padding: 1.5px;
  background: var(--border-grad);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
  opacity: .85;
}
.card-premium::after{
  /* gloss hover line */
  content:"";
  position:absolute; inset: 0;
  background: linear-gradient(120deg, transparent 20%, rgba(255,255,255,.25) 40%, transparent 60%);
  transform: translateX(-120%);
  transition: transform .6s ease;
  pointer-events: none;
}
.card-premium:hover::after{ transform: translateX(0); }

.card:hover{
  transform: translateY(-2px);
  box-shadow: 0 36px 120px rgba(15,23,42,.12);
  border-color: #e6eefc;
}
.card-title { font-weight: 900; letter-spacing:.2px; color: var(--ink); display:flex; align-items:center; gap:8px;margin-bottom: 16px; }

/* ============ KPI block ============ */
.kpi {
  display: flex; gap: 14px; align-items: center;
  background: #ffffffcc;
  backdrop-filter: blur(8px);
  border-radius: 18px; padding: 16px;
  border: 1px solid #edf2fb; box-shadow: var(--glow);
}
.kpi-icon{
  position: relative;
  font-size: 22px; width: 50px; height: 50px; border-radius: 14px;
  display:grid; place-items:center;
  background: #f8fafc; color:#0f172a; border: 1px solid #eaeef5;
  overflow: hidden;
}
.kpi-ring{
  position:absolute; inset:-1px; border-radius:inherit;
  
  opacity:.5;
  -webkit-mask: radial-gradient(circle at 50% 50%, transparent 26px, #000 27px);
          mask: radial-gradient(circle at 50% 50%, transparent 26px, #000 27px);
}
.kpi-glow{
  position:absolute; width:140%; height:140%; left:-20%; top:-20%;
  background: radial-gradient(80px 80px at 30% 30%, rgba(255,255,255,.9), transparent 60%);
  mix-blend-mode: soft-light; opacity:.55; pointer-events:none;
  animation: glow-pan 6s ease-in-out infinite alternate;
}
@keyframes glow-pan {
  0% { transform: translate(0,0) rotate(0deg); }
  100% { transform: translate(6px, -6px) rotate(8deg); }
}
.kpi-body { display: grid; gap: 2px; }
.kpi-title { font-size: 12px; color: var(--muted); font-weight: 800; letter-spacing:.28px; text-transform: uppercase; }
.kpi-value { font-size: 26px; font-weight: 900; color: var(--ink); line-height: 1.1; text-align: center;}
.kpi-sub { font-size: 12px; color: #9aa4b2; }

/* tones */
.kpi-blue .kpi-icon    { color:#1d4ed8; }
.kpi-emerald .kpi-icon { color:#047857; }
.kpi-amber .kpi-icon   { color:#b45309; }
.kpi-rose .kpi-icon    { color:#be123c; }

/* charts container */
.pieBox { height: 280px; }
.lineBox { height: 340px; }
.empty-graph {
  height: 340px; display:flex; align-items:center; justify-content:center;
  color:#64748b; background: #fbfcff; border: 1px dashed #e5eaf5; border-radius: 14px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.7);
}

/* tooltip */
.nivo-tip.premium-tip {
  width: max-content;
  background: linear-gradient(180deg,#fff,#fbfdff);
  /* padding: 8px 10px; border: 1px solid #e6ecf9; border-radius: 12px; */
  box-shadow: 0 20px 50px rgba(15,23,42,.18);
}
.premium-tip .tip-title{ color:#0f172a; margin-bottom:2px; }
.premium-tip .tip-line { color:#334155; }

/* notifications */
.notice { display: grid; gap: 8px; margin: 4px 0 2px; padding-left: 18px; }
.notice li { color: #0f172a; line-height: 1.35; }
.notice li::marker{ color:#94a3b8; }

/* table */
.table-wrap { overflow: auto; border-radius: 14px; border: 1px solid #edf2fb; }
.tbl { width: 100%; border-collapse: collapse; font-size: 14px; background: #fff;text-align: center; }
.tbl thead th {
  position: sticky; top: 0; z-index: 1;
  background: linear-gradient(180deg,#f9fbff,#f3f7ff);
  color: #0f172a; font-weight: 900; text-align: left;
  padding: 12px; border-bottom: 1px solid #e8eef8;
}
.tbl tbody td { padding: 12px; border-bottom: 1px solid #f1f5fb; color:#0f172a; }
.tbl tbody tr:hover { background: #f7fbff; }
.pill { padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 800; letter-spacing: .2px; }
.pill.approved  { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
.pill.pending   { background: #fef9c3; color: #854D0E; border: 1px solid #fde68a; }
.pill.cancelled { background: #fee2e2; color: #991B1B; border: 1px solid #fecaca; }

/* loader */
.loaderWrap{ display:flex; align-items:center; gap:12px; margin: 10px 0 16px; }
.loaderSpinner{
  width: 22px; height: 22px; border-radius: 50%;
  border: 3px solid rgba(59,130,246,.25);
  border-top-color: #3B82F6;
  animation: spin .9s linear infinite;
  filter: drop-shadow(0 6px 12px rgba(59,130,246,.35));
}
.loaderText{ color:#475569; font-weight: 700; letter-spacing:.2px; }
@keyframes spin { to { transform: rotate(360deg);} }

/* error */
.error{
  background: #fef2f2; color:#991b1b; border:1px solid #fee2e2;
  padding: 10px 12px; border-radius: 14px; margin: 6px 0 12px;
  box-shadow: 0 16px 40px rgba(153,27,27,.08);
}

/* responsive */
@media (max-width: 1200px){
  .kpi-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 720px){
  .kpi-grid { grid-template-columns: 1fr; }
  .grid-3   { grid-template-columns: 1fr; }
  .page-title{ font-size: 26px; }
}


/* ทำให้ pill ทุกอันขนาด/ตัวอักษรเท่ากัน */
.pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 92px;              /* กันวูบ */
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
  text-transform: lowercase;     /* ให้ wording สม่ำเสมอ */
}

/* เดิม */
.pill.pending   { background:#fef9c3; color:#854D0E; border:1px solid #fde68a; }
.pill.approved  { background:#dcfce7; color:#166534; border:1px solid #bbf7d0; }
.pill.cancelled { background:#fee2e2; color:#991B1B; border:1px solid #fecaca; }

/* เพิ่ม alias ให้สถานะที่ BE ส่งมาไม่ตรงชื่อคลาส */
.pill.active,
.pill.success {
  background:#dcfce7; color:#166534; border:1px solid #bbf7d0;   /* เหมือน approved */
}

.pill.cancel,
.pill.canceled {
  background:#fee2e2; color:#991B1B; border:1px solid #fecaca;   /* เหมือน cancelled */
}


/* ===== Chart toolbar ===== */
.card-title-row{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.chart-toolbar{ display:flex; gap:8px; }

.chart-btn{
  appearance:none; border:1px solid #E5E7EB; background:#fff;
  font:600 12px/1 Inter, system-ui, -apple-system, "Noto Sans Thai";
  padding:8px 12px; border-radius:10px; cursor:pointer;
  transition:all .18s ease; color:#374151;
}
.chart-btn:hover{ background:#F9FAFB; transform:translateY(-1px); }
.chart-btn[data-active="true"]{
  color:#111827; border-color:#D4AF37;
  box-shadow: 0 6px 16px rgba(212,175,55,.18), inset 0 1px 0 rgba(255,255,255,.7);
  background: linear-gradient(135deg,#F6E27A,#D4AF37);
}
